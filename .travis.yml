language: node_js
node_js:
- '0.12'
before_install: npm install -g grunt-cli
install: npm install
script: grunt
before_deploy:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- export GIT_TAG=$TRAVIS_BRANCH-v0.2.$TRAVIS_BUILD_NUMBER
- git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
- git push -q https://${GH_TOKEN}@github.com/BitSyko/layers_showcase_json --tags
- ls -R
branches:
  except:
  - /^*-v[0-9]/
env:
  global:
  - secure: Kba7H1/eutMzFG5N87y3qQF4owYVMC+tEPg506pjq8RQrV34GttcTyUtIgjVaZdwdWkXLbToglSkqk4b4RC01SEEBNSfTa53ikX7ijql59NUT03p3Zk5y4fqFEZ73nMmUWQ/Q14hkx6qJAnppRYIgMeh++H3AMr639MM/HZCj0OCSprEkqIa5PA4l2AtZ+npmAHHfCSVIQaRiQC/Ui6hGt6EVePJPZK0HJtbJAdJWBPvyJR3gGjzfv+FthxdKgZ6zmJxiqEpUdcJBbDk3TPZfDNg6emQ9jnXf1eWq2uH8r014R5/OOiTyejAoIEmQVTrZEiaYNHTiRaRKgditp8mOxiSdnT1Cnic8eYOC2wPL9us57RtpoRzc1cfhIDiBon9R3NrF9rWTaGgEyl3aI3aTm6IujXpdgUaPEMu+EaihayOZRBw4nE6FXNIoiHdU8yBwPf7stfb9ohnDPfPWKmfjW/vawSFtZxoMcAc9VvyFEi5aJWkgZ7PtUY/oXEVDqNOsax2GQ6FgH/YdNtc1iUKjZDUdI7XYahKq1zVYGlRiJynbCiZThwyA5/IZjWyoMRYy2le+xtCO6W+nTmlGWykAPWwX+kVqGgvA/Nht0EQVC2rIuXhwos7VUq8I1K3GsQ0c4sj7f4UcoqzkqoT7ZTVOYhjMX1DPocXOvN/JlRjPag=
deploy:
  skip_cleanup: true
  provider: releases
  api_key:
    secure: e7FYyDyvEyZBiIweVX61XA8vnxyOjZqk9ILxDJqUL+aOv0peXkZ7uPKh5I9WAUEeoQ2HDJPaYyWlyF7LqPFFv/nCHtdbTN7JM+YEri6xLbF+pqrO2pbQUAhiK3ZFwUUQfAq5AN7wM2wFVNRKkTasX4Poe2vb0ccaA6oOzLx2VhQzXL/rfBWMLLa9pfzqN3cj+dgR9NF+WQIcrMp6JiUbz4CCRnWZOWMOJYVclKDgwmsUr0r4n6WeU4TroZ8E3/H05qZ2scRfMasjTQi3MroKGijG+pluBxiimXrvovyYI/j6pZiIcPm8NYKH4l5HJB9UCvSrwn7oFVOuWNaL5s1YiFjMyL5LASXf3BmuTW2a8228La3ZQGR9n7uZ8ZMR3OOh87FIG5rWDkLFSdmliHP5+XerErfs9dYaYG+v3z5Xe58jq2YTn7jdY212fgXMiJCTuYBoUQWS7fj2X3a+qxlTKlNrUYoJeR6fCSCSlTmATvX+gnKVJkeUCLqk62Gp3egXOYNRG7laDbv7RVwtyjKCSzyw2jtNic5iWfMAZRezfkUH6IALNtuh04oFSLIkHybnZvYccCFzX2VGLhaYoMcHNlm7LgkTPXiGJ6dlmCzks/gbAj6xIeHSEJ6h9MuOXiPJZm5shCVfEWSnAmF3IQv5BTesklqNIj+gdnkmNsC2/Hc=
  file: dest/showcase.json
  on:
    repo: BitSyko/layers_showcase_json
    tags: false
    all_branches: true
    condition: "$TRAVIS_PULL_REQUEST = false"
